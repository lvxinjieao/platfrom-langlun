<extend name="Public/base" />

<block name="body">
<link rel="stylesheet" type="text/css" href="__CSS__/admin_table.css" media="all">
<script type="text/javascript" src="__STATIC__/uploadify/jquery.uploadify.min.js"></script>
    <link rel="stylesheet" href="__CSS__/select2.min.css" type="text/css" />
    <script type="text/javascript" src="__JS__/select2.min.js"></script>
 
    <div class="cf main-place top_nav_list navtab_list">
        <h3 class="page_title">编辑SDK <switch name="Think.get.type"><case value="1">QQ登录</case><case value='2'>微信登录</case></switch>参数</h3>
        <p class="description_text">说明：用来配置相关SDK在<switch name="Think.get.type"><case value="1">QQ登录</case><case value='2'>微信登录</case></switch>时所需要的参数</p>
    </div>
    
    <!-- 标签页导航 -->
<div class="tab-wrap">
    <div class="tab-content tabcon1711">
    <!-- 表单 -->
        <form id="form" action="{:U('edit_thirdparty')}" method="post" class="form-horizontal formmain">
            <!-- 基础 -->
            <div id="tab1" class="tab-pane in tab1">
                <table border="0" cellspacing="0" cellpadding="0">
                    <tr>
                        <td class="l noticeinfo"><span style="color:red;">*</span>游戏名称</td>
                        <td class="r">
                            <select id="game_id" name="game_id" disabled="true">
                              <option value="0">全部游戏</option>
                                <volist name=":get_game_list()" id="vo">
                                    <option value="{$vo.id}">{$vo.game_name}</option>
                                </volist>
                            </select>
                            <span class="notice-text">设置游戏名称</span>
                        </td>
                    </tr>
                    <if condition="I('type') eq 1">
                      <tr>
                          <td class="l noticeinfo"><span style="color:red;">*</span>openid</td>
                          <td class="r">
                              <input type="text" class="txt " name="openid" value="{$data['openid']}" placeholder="">
                              <span class="notice-text">合作身份者id，以2088开头的16位纯数字</span>
                          </td>
                          <input type="hidden" name="create_time" value="{:time()}">
                          <input type="hidden" name="type" value="1">
                          
                      </tr>
                         <tr>
                          <td class="l noticeinfo"><span style="color:red;">*</span>安全校验码</td>
                          <td class="r">
                              <input type="text" class="txt " name="key" value="{$data['key']}" placeholder="">
                              <span class="notice-text">安全校验码，以数字和字母组成的32位字符</span>
                          </td>
                      </tr>
                    
                    </if>
                   <if condition="I('type') eq 2">
                      <tr>
                          <td class="l noticeinfo"><span style="color:red;">*</span>微信APPID</td>
                          <td class="r">
                              <input type="text" class="txt " name="wx_appid" value="{$data['wx_appid']}" placeholder="">
                              <span class="notice-text">微信提供的唯一识别码</span>
                          </td>
                          <input type="hidden" name="create_time" value="{:time()}">
                          <input type="hidden" name="type" value="1">
                          
                      </tr>
                         <tr>
                          <td class="l noticeinfo"><span style="color:red;">*</span>APPSECRET</td>
                          <td class="r">
                              <input type="text" class="txt " name="appsecret" value="{$data['appsecret']}" placeholder="">
                              <span class="notice-text">应用注册成功后分配的KEY</span>
                          </td>
                      </tr>
                    
                    </if>
                   <if condition="I('type') eq 3">
                      <tr>
                          <td class="l noticeinfo">微博appkey</td>
                          <td class="r">
                              <input type="text" class="txt " name="appkey" value="{$data['appkey']}" placeholder="">
                              <span class="notice-text">微博appkey</span>
                          </td>
                          <input type="hidden" name="create_time" value="{:time()}">
                          <input type="hidden" name="type" value="1">
                          
                      </tr>
                         <tr>
                          <td class="l noticeinfo">scope</td>
                          <td class="r">
                              <input type="text" class="txt " name="scope" value="{$data['scope']}" placeholder="">
                              <span class="notice-text">scope</span>
                          </td>
                      </tr>
                    
                    </if>
                   <if condition="I('type') eq 4">
                         <tr>
                          <td class="l noticeinfo">clientid</td>
                          <td class="r">
                              <input type="text" class="txt " name="clientid" value="{$data['clientid']}" placeholder="">
                              <span class="notice-text">clientid</span>
                          </td>
                      </tr>
                    
                    </if>
                  <tr>
                        <td class="l noticeinfo">回调地址</td>
                        <td class="r">
                            <input type="text" class="txt " name="callback" value="{$data['callback']}" placeholder="">
                            <span class="notice-text">登录成功后返回的地址</span>
                        </td>
                    </tr>
                  <tr>
                         <td class="l noticeinfo">启用状态</td>
                                <td class="r table_radio">
                                    <span class="form_radio">
                                    <label><input type="radio" name="status" value="0" > 禁用</label>
                                    <label><input type="radio" name="status" value="1" checked="checked"> 启用
                                </label></span>
                                    <span class="notice-text"><switch name="Think.get.type"><case value="1">QQ登录</case><case value='2'>微信登录</case></switch>开启状态</span>
                                </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="form-item cf">
              <input type="hidden" name="id" value="{$data['id']}">
              <input type="hidden" name="type" value="{:I('type')}">
              <button class="submit_btn ajax-post " id="submit" type="submit" target-form="form-horizontal">
                  保存
              </button>
              <a class="submit_btn " alt="返回上一页" title="返回上一页" href="javascript:window.history.back();" >
                  返回
              </a>
          </div>
        </form>
        
    </div>
</div>
</block>

<block name="script">
<link href="__STATIC__/datetimepicker/css/datetimepicker.css" rel="stylesheet" type="text/css">
<php>if(C('COLOR_STYLE')=='blue_color') echo '<link href="__STATIC__/datetimepicker/css/datetimepicker_blue.css" rel="stylesheet" type="text/css">';</php>
<link href="__STATIC__/datetimepicker/css/dropdown.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="__STATIC__/datetimepicker/js/bootstrap-datetimepicker.min.js"></script>
<script type="text/javascript" src="__STATIC__/datetimepicker/js/locales/bootstrap-datetimepicker.zh-CN.js" charset="UTF-8"></script>
<script type="text/javascript">
//导航高亮
highlight_subnav('{:U('Tool/qq_thirdparty')}');
$('#submit').click(function(){
    $('#form').submit();
});
Think.setValue('game_id',{$data.game_id});

$(function(){
    $("#game_id").select2();
    var inp_radio=$(":radio:checked").val();
  if(inp_radio==0){
    $(".money").hide()
    $("#money").val(0);

  }
  $(".inp_radio").change(function(){
    if($(this).val()==1){
     $(".money").show();     
    }else{
    $(".money").hide()
    $("#money").val(0);   
    }
  });
  $('.date').datetimepicker({
        format: 'yyyy-mm-dd',
        language:"zh-CN",
        minView:2,
        autoclose:true
    });
    $('.time').datetimepicker({
    language:"zh-CN",
     hour: 13,
       minute: 15
    });
    showTab();

});
</script>
</block>
